<div class="hero">
  <div class="container">
    <div class="hero-text">
      <h1 class="shadow">QCU Empire</h1>
      <p>
        Quezon City University Entrepreneurs Marketplace for Innovation,
        Resources, and Enterprise
      </p>
    </div>
  </div>
</div>

<div class="body home">
  <div class="container">
    <button onclick="openForm('loginAs')" class="btn btn-1">LOGIN</button>
    <button onclick="openForm('register')" class="btn btn-1">REGISTER</button>
  </div>
  <div class="flex container">
    <div class="px-2 py-2 brd">
      <h1 class="h1-1">ABOUT US</h1>
      <p class="p-1">
        QCU EMPIRE is dedicated to fostering entrepreneurial growth and
        collaboration within the Quezon City University community. Our platform
        empowers students to connect, promote, and sell their products and
        services, driving campus-based commerce and real-world business
        experience.
      </p>
    </div>
    <div class="px-2 py-2 brd">
      <h1 class="h1-1">MISSION</h1>
      <p class="p-1">
        Our mission is to enhance student-entrepreneurs' access to the digital
        economy by providing a robust platform for showcasing and selling their
        products. We aim to bridge the gap between education and real-world
        commerce, cultivating entrepreneurial skills through hands-on
        experience.
      </p>
    </div>
    <div class="px-2 py-2">
      <h1 class="h1-1">VISION</h1>
      <p class="p-1">
        We envision a thriving university marketplace where students are
        empowered to succeed as entrepreneurs, fostering innovation and
        collaboration that prepares them for a competitive global economy.
      </p>
    </div>
  </div>
</div>

<!-- LOGIN AS POPUP -->
<div id="loginAs" class="form-popup">
  <div class="container">
    <h1>Login As</h1>
    <button type="button" onclick="openForm('customer')" class="btn btn-1">Customer</button>
    <button type="button" onclick="openForm('entrepreneur')" class="btn btn-1">Entrepreneur</button>
    <button type="button" onclick="openForm('entrepreneur')" class="btn btn-1">Admin</button>

  </div>
  <a onclick="closeForm('loginAs')" id="removePopUp">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
      <path d="M18 6 6 18"/>
      <path d="m6 6 12 12"/>
    </svg>
  </a>
</div>

<!-- CUSTOMER LOGIN FORM -->
<div id="customer" class="form-popup">
  <div class="container">
    <form action="/user/login" method="POST">
      <h1 style="text-align: center">Customer Login</h1>
      <label for="email">Email:</label>
      <input type="text" id="email" name="email" required />
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required />
      <br />
      <span id="error" class="error-login" style="color: yellow;"></span>
      <button type="submit" class="btn btn-1">SUBMIT</button>
      <p>Don't have an account? <a onclick="openForm('register')">Register</a></p>
    </form>
  </div>
  <a onclick="closeForm('customer')" id="removePopUp">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
      <path d="M18 6 6 18"/>
      <path d="m6 6 12 12"/>
    </svg>
  </a>
</div>

<!-- ENTREPRENEUR LOGIN FORM -->
<div id="entrepreneur" class="form-popup">
  <div class="container">
    <form action="/entrep/login" method="POST">
      <h1 style="text-align: center">Entrep Login</h1>
      <label for="email">Email:</label>
      <input type="text" id="email" name="email" required />
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required />
      <br />
      <span id="error" class="error-login" style="color: yellow;"></span>
      <button type="submit" class="btn btn-1">SUBMIT</button>
    </form>
  </div>
  <a onclick="closeForm('entrepreneur')" id="removePopUp">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
      <path d="M18 6 6 18"/>
      <path d="m6 6 12 12"/>
    </svg>
  </a>
</div>

<div id="register" class="form-popup">
  <div class="container">
    <form action="/user/register" method="POST">
      <h1 style="text-align: center">Register</h1>
      <label for="name">Full Name:</label>
      <input type="text" id="name" name="name" required="true" />
      <label for="qcuStud">Are you a Quezon City University Student?</label>
      <select name="qcuStudOption" id="qcuStudOption" required="True" onchange="toggleStudentFields()">
        <option value="True">Yes</option>
        <option value="False">No</option>
      </select>
      <div id="studentFields">
        <label for="studNo">Student No.:</label>
        <input type="text" id="studNo" name="studNo" required="true" />
        <label for="course">Course:</label>
        <input type="text" id="course" name="course" required="true" />
      </div>
      <label for="contactNo">Contact No:</label>
      <input type="text" id="contactNo" name="contactNo" />
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required="true" />
      <label for="address">Address:</label>
      <input type="text" id="address" name="address" required="true" />
      <label for="fbLink">Facebook Link:</label>
      <input type="url" id="fbLink" name="fbLink" required="true" />
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required="true" />
      <span id="error" class="error-register" style="color: yellow;"></span>
      <br />
      <button type="submit" class="btn btn-1">SUBMIT</button>
    </form>
    <a onclick="closeForm('register')" id="removePopUp">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
        <path d="M18 6 6 18"/>
        <path d="m6 6 12 12"/>
      </svg>
    </a>
  </div>
</div>

<script>
function openForm(form) {
  const forms = ["loginAs", "customer", "entrepreneur", "register"];
  forms.forEach((f) => {
    document.getElementById(f).style.display = f === form ? "block" : "none";
  });
}

function closeForm(form) {
  document.getElementById(form).style.display = "none";
}

function toggleStudentFields() {
  const isQcuStudent = document.getElementById("qcuStudOption").value === "True";
  const studentFields = document.getElementById("studentFields");

  if (isQcuStudent) {
    studentFields.style.display = "block";
    document.getElementById("studNo").setAttribute("required", "true");
    document.getElementById("course").setAttribute("required", "true");
  } else {
    studentFields.style.display = "none";
    document.getElementById("studNo").removeAttribute("required");
    document.getElementById("course").removeAttribute("required");
    document.getElementById("studNo").value = "";
    document.getElementById("course").value = "";
  }
}

document.addEventListener("DOMContentLoaded", () => {
  const urlParams = new URLSearchParams(window.location.search);
  const error = urlParams.get("error");
  const form = urlParams.get("form");

  if (error && form) {
    document.querySelector(`#${form} #error`).innerText = decodeURIComponent(error);
    openForm(form);
  }

  if (form === "register") {
    toggleStudentFields();
  }
});


</script>
